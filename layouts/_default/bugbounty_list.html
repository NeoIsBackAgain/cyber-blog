{{ define "main" }}
<div class="notion-layout">

    <div class="notion-header">
        <div class="header-top-row">
            <div class="icon-container">
                <img src="/images/BugBounty.png" class="header-icon" alt="Bug Bounty">
            </div>
        </div>
        
        <h1 class="page-title">Bug Bounty Log</h1>
        
        <div class="notion-meta">
            <span class="meta-item">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                @NeoIsBackAgain
            </span>
            <span class="meta-divider">•</span>
            <span class="meta-item">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg>
                {{ len (where .Site.RegularPages "Params.tags" "intersect" (slice "BugBounty" "Bug Bounty" "HackerOne" "Bugcrowd" "VDP" "CVE")) }} Reports
            </span>
        </div>

        <div class="notion-quote">
            <blockquote>
                "Hunt bugs. Secure the web. Get rewarded."
                <a href="https://hackerone.com" target="_blank" class="quote-link">hackerone.com ↗</a>
            </blockquote>
        </div>
    </div>

    <div class="notion-body">
        <div class="list-header-row">
            <span class="col-name">TARGET / REPORT</span>
            <span class="col-tags">PLATFORM & SEVERITY</span>
        </div>
        
        <div class="machine-rows">
            {{ $pages := where .Site.RegularPages "Params.tags" "intersect" (slice "BugBounty" "Bug Bounty" "HackerOne" "Bugcrowd" "VDP" "CVE") }}
            {{ range $pages }}
            <a href="{{ .Permalink }}" class="notion-row">
                <div class="row-left">
                    <div class="row-icon-box">
                        
                        {{ if .Params.icon }}
                            <img src="{{ .Params.icon | absURL }}">
                        {{ else }}
                            <svg viewBox="0 0 512 512" fill="#ff5f56">
                                <path d="M256 0c53 0 96 43 96 96v3.6c0 15.7-12.7 28.4-28.4 28.4H188.4c-15.7 0-28.4-12.7-28.4-28.4V96c0-53 43-96 96-96zM41.4 105.4c12.5-12.5 32.8-12.5 45.3 0l64 64c.7 .7 1.3 1.4 1.9 2.1c14.2-3.9 29.3-6.1 44.9-6.1s30.8 2.2 44.9 6.1c.6-.7 1.2-1.4 1.9-2.1l64-64c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3l-54.6 54.6c23.6 22.8 41 51.5 50.1 83.4h55.3c17.7 0 32 14.3 32 32s-14.3 32-32 32h-60.8c.5 5.3 .8 10.6 .8 16s-.3 10.7-.8 16h60.8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-55.3c-9.1 31.9-26.5 60.6-50.1 83.4l54.6 54.6c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0l-64-64c-.7-.7-1.3-1.4-1.9-2.1c-14.2 3.9-29.3 6.1-44.9 6.1s-30.8-2.2-44.9-6.1c-.6 .7-1.2 1.4-1.9 2.1l-64 64c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l54.6-54.6c-23.6-22.8-41-51.5-50.1-83.4H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h60.8c-.5-5.3-.8-10.6-.8-16s.3-10.7 .8-16H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h55.3c9.1-31.9 26.5-60.6 50.1-83.4L86.6 150.6c-12.5-12.5-12.5-32.8 0-45.3zM256 224a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm-96 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm224 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"/>
                            </svg>
                        {{ end }}

                    </div>
                    <span class="row-title">{{ .Title }}</span>
                </div>

                <div class="row-right">
                    {{ if or (in .Params.tags "Low") (in .Params.tags "low") }}<span class="tag low">LOW</span>{{ end }}
                    {{ if or (in .Params.tags "Medium") (in .Params.tags "medium") }}<span class="tag medium">MEDIUM</span>{{ end }}
                    {{ if or (in .Params.tags "High") (in .Params.tags "high") }}<span class="tag high">HIGH</span>{{ end }}
                    {{ if or (in .Params.tags "Critical") (in .Params.tags "critical") }}<span class="tag critical">CRITICAL</span>{{ end }}
                    
                    {{ if or (in .Params.tags "HackerOne") (in .Params.tags "hackerone") }}<span class="tag platform h1">HACKERONE</span>{{ end }}
                    {{ if or (in .Params.tags "Bugcrowd") (in .Params.tags "bugcrowd") }}<span class="tag platform bc">BUGCROWD</span>{{ end }}
                    {{ if or (in .Params.tags "VDP") (in .Params.tags "vdp") }}<span class="tag platform vdp">VDP</span>{{ end }}
                    
                    <span class="hover-arrow">→</span>
                </div>
            </a>
            {{ end }}
        </div>
    </div>
</div>

<style>
    /* Base Layout */
    .notion-layout {
        max-width: 900px;
        margin: 0 auto;
        padding-bottom: 60px;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
        color: #e0e0e0;
    }

    /* Header */
    .notion-header { padding: 0 20px; margin-top: -20px; }

    .icon-container { width: 85px; height: 85px; margin-bottom: 15px; position: relative; }

    .header-icon {
        width: 100%; height: 100%; border-radius: 12px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.4); background: #151515; border: 1px solid #333; object-fit: contain;
    }

    .page-title {
        font-size: 2.8rem; font-weight: 800; margin: 0 0 12px 0; letter-spacing: -0.03em; color: #fff;
    }

    .notion-meta {
        display: flex; align-items: center; gap: 10px; color: #888; font-size: 0.95rem; margin-bottom: 30px; font-weight: 500;
    }

    .meta-item { display: flex; align-items: center; gap: 6px; }
    .meta-divider { color: #444; }

    .notion-quote {
        border-left: 3px solid #333; padding-left: 16px; color: #aaa; font-style: italic; margin-bottom: 50px; line-height: 1.6;
    }
    
    .quote-link {
        color: #ff5f56; /* Bug Bounty Red Accent */
        text-decoration: none; font-style: normal; margin-left: 8px; font-size: 0.9em; font-weight: 600; transition: opacity 0.2s;
    }
    .quote-link:hover { opacity: 0.7; }

    /* List Header */
    .notion-body { padding: 0 20px; }

    .list-header-row {
        display: flex; justify-content: space-between; padding: 0 15px 12px 15px;
        border-bottom: 2px solid #222; color: #777; font-size: 0.75rem; text-transform: uppercase; font-weight: 700; letter-spacing: 0.1em; margin-bottom: 8px;
    }

    /* Rows */
    .machine-rows { display: flex; flex-direction: column; gap: 6px; }

    .notion-row {
        display: flex; justify-content: space-between; align-items: center;
        padding: 14px 15px; border: 1px solid transparent; border-bottom: 1px solid #1a1a1a;
        background: rgba(255, 255, 255, 0.015); border-radius: 8px; text-decoration: none; transition: all 0.25s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    .notion-row:hover {
        background: rgba(255, 255, 255, 0.04); border-color: #333; box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        transform: translateY(-2px);
    }

    /* Icons */
    .row-left { display: flex; align-items: center; gap: 15px; }

    .row-icon-box {
        width: 34px; height: 34px; background: transparent; display: flex; align-items: center; justify-content: center; border-radius: 50%;
    }
    .row-icon-box img, .row-icon-box svg { width: 100%; height: 100%; object-fit: contain; }

    .row-title { color: #e0e0e0; font-weight: 600; font-size: 1.05rem; transition: color 0.2s; }
    .notion-row:hover .row-title { color: #fff; }

    /* Tags */
    .row-right { display: flex; align-items: center; gap: 8px; }

    .tag {
        padding: 4px 12px; border-radius: 20px; font-size: 0.7rem; font-weight: 700; letter-spacing: 0.5px; border: 1px solid transparent;
    }

    /* Bug Severities */
    .low { background: rgba(164, 203, 57, 0.1); color: #a4cb39; border-color: rgba(164, 203, 57, 0.2); }
    .medium { background: rgba(255, 159, 0, 0.1); color: #ff9f00; border-color: rgba(255, 159, 0, 0.2); }
    .high { background: rgba(239, 83, 80, 0.1); color: #ef5350; border-color: rgba(239, 83, 80, 0.2); }
    .critical { background: rgba(142, 68, 173, 0.1); color: #bf5af2; border-color: rgba(142, 68, 173, 0.2); }
    
    /* Platforms */
    .platform.h1 { background: rgba(255, 255, 255, 0.1); color: #fff; border-color: rgba(255, 255, 255, 0.2); }
    .platform.bc { background: rgba(232, 116, 36, 0.1); color: #e87424; border-color: rgba(232, 116, 36, 0.2); }
    .platform.vdp { background: rgba(0, 162, 237, 0.1); color: #00a2ed; border-color: rgba(0, 162, 237, 0.2); }

    .hover-arrow {
        color: #ff5f56; /* Bug Bounty Red */
        font-weight: bold; font-size: 1.1rem; opacity: 0; margin-left: 5px; transform: translateX(-10px); transition: all 0.3s ease;
    }
    .notion-row:hover .hover-arrow { opacity: 1; transform: translateX(0); }

    @media (max-width: 600px) {
        .notion-header, .notion-body { padding: 0 10px; }
        .page-title { font-size: 2rem; }
        .col-tags { display: none; } 
        .tag.platform { display: none; }
        .hover-arrow { display: none; }
    }
</style>
{{ end }}