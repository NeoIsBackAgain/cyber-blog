{{- $index := slice -}}
{{- range site.RegularPages -}}
    {{- /* Smart Tips Extraction Logic */ -}}
    {{- $tips := "" -}}
    {{- $matches := findRE "(?s)\\{\\{< tag \".*?\" >\\}\\}.*?\\{\\{< /toggle >\\}\\}" .RawContent -}}
    {{- range $matches -}}
        {{- $clean := . | replaceRE "(?s)\\{\\{< tag \"(.*?)\" >\\}\\}" "$1 ::: " | replaceRE "\\{\\{< /toggle >\\}\\}" " ||| " -}}
        {{- $tips = printf "%s%s" $tips $clean -}}
    {{- end -}}

    {{- $item := dict 
        "title" .Title 
        "description" .Params.description  
        "summary" .Summary 
        "permalink" .Permalink 
        "tips" $tips  
        "tags" (default slice .Params.tags) 
        "content" .Plain 
    -}}
    
    {{- $index = $index | append $item -}}
{{- end -}}
{{- $index | jsonify -}}